<!-- <div class="dice-wrapper">
    <label class="dice-label">@Name</label>

    <i class="bi @Shape @_spin dice-shape"></i>
    <label class="dice-shape-label @(_result >= 10 ? "dice-shape-label-double" : "dice-shape-label-single")">@_result</label>

    <input type="button" value="Roll" class="btn btn-primary btn-lg btn-roll" @onclick="()=>Roll(20)" disabled="@(string.IsNullOrEmpty(_spin) == false)" />
    @if(_history.Count > 1)
    {
        <input type="button" value="@(_history.Sum())" class="btn btn-outline-warning btn-lg btn-total" @onclick="Reset" disabled="@(string.IsNullOrEmpty(_spin) == false)" />
    }
</div> -->

<tr class="dice-row">
    <td>
            <strong class="dice-label">@Name</strong>
    </td>
    <td>
            <div class="container">
                    <div class="container-shape @_spin">
                            <i class="bi @Shape dice-shape"></i>
                    </div>
                    <div class="container-number">
                            <strong class="dice-number @(_result >= 10 ? "dice-shape-label-double" : "dice-shape-label-single")">@_result</strong>
                    </div>
            </div>
    </td>
    <td>
            <input type="button" class="btn btn-primary btn-roll" value="Roll" @onclick="()=>Roll(20)" disabled="@(string.IsNullOrEmpty(_spin) == false)" /> <br/>
    </td>
    <td>
        @if(_history.Count > 1)
        {
            <input type="button" class="btn btn-outline-info btn-reset" value="@(_history.Sum())" @onclick="Reset" disabled="@(string.IsNullOrEmpty(_spin) == false)" />
        }
    </td>
</tr>

@code {

    [Parameter]
    public string Name { get; set; }

    [Parameter]
    public string Shape { get; set; }

    [Parameter]
    public int Size { get; set; }

    private string _spin  { get; set; }
    private List<int> _history { get; set; } = new List<int>();
    private int? _result { get; set; }
    private Random rand { get; set; } = new Random();

    async private Task Roll(int maximum)
    {
        _result = null;
        _spin = "dice-spin";
        StateHasChanged();
        await Task.Delay(400);
        _result = rand.Next(1, Size+1);
        _history.Add(_result.Value);

        _spin = "";
    }

    private void Reset()
    {
        _history = new List<int>();
    }

}
